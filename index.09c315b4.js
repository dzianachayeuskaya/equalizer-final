function e(e,n,o){let l=n.__redom_lifecycle;if(t(l)){n.__redom_lifecycle={};return}let i=o;for(n.__redom_mounted&&r(n,"onunmount");i;){let e=i.__redom_lifecycle||{};for(let t in l)e[t]&&(e[t]-=l[t]);t(e)&&(i.__redom_lifecycle=null),i=i.parentNode}}function t(e){if(null==e)return!0;for(let t in e)if(e[t])return!1;return!0}const n=["onmount","onremount","onunmount"],o="undefined"!=typeof window&&"ShadowRoot"in window;function l(t,l,i,u){let f=c(t),d=c(l);l===d&&d.__redom_view&&(l=d.__redom_view),l!==d&&(d.__redom_view=l);let a=d.__redom_mounted,_=d.parentNode;if(a&&_!==f&&e(l,d,_),null!=i){if(u){let e=c(i);e.__redom_mounted&&r(e,"onunmount"),f.replaceChild(d,e)}else f.insertBefore(d,c(i))}else f.appendChild(d);return function(e,t,l,i){let u=t.__redom_lifecycle||(t.__redom_lifecycle={}),c=l===i,f=!1;for(let o of n)!c&&e!==t&&o in e&&(u[o]=(u[o]||0)+1),u[o]&&(f=!0);if(!f){t.__redom_lifecycle={};return}let d=l,a=!1;for((c||d&&d.__redom_mounted)&&(r(t,c?"onremount":"onmount"),a=!0);d;){let e=d.parentNode,t=d.__redom_lifecycle||(d.__redom_lifecycle={});for(let e in u)t[e]=(t[e]||0)+u[e];if(a)break;(d.nodeType===Node.DOCUMENT_NODE||o&&d instanceof ShadowRoot||e&&e.__redom_mounted)&&(r(d,c?"onremount":"onmount"),a=!0),d=e}}(l,d,f,_),l}function r(e,t){"onmount"===t||"onremount"===t?e.__redom_mounted=!0:"onunmount"===t&&(e.__redom_mounted=!1);let n=e.__redom_lifecycle;if(!n)return;let o=e.__redom_view,l=0;for(let e in o&&o[t]&&o[t](),n)e&&l++;if(l){let n=e.firstChild;for(;n;){let e=n.nextSibling;r(n,t),n=e}}}function i(e,t,n){e.style[t]=null==n?"":n}const u="http://www.w3.org/1999/xlink";function c(e){return e.nodeType&&e||!e.el&&e||c(e.el)}function f(e){return e&&e.nodeType}function d(e,...t){let n;let o=typeof e;if("string"===o)n=function(e,t){let{tag:n,id:o,className:l}=function(e){let t=e.split(/([.#])/),n="",o="";for(let e=1;e<t.length;e+=2)switch(t[e]){case".":n+=` ${t[e+1]}`;break;case"#":o=t[e+1]}return{className:n.trim(),tag:t[0]||"div",id:o}}(e),r=t?document.createElementNS(t,n):document.createElement(n);return o&&(r.id=o),l&&(t?r.setAttribute("class",l):r.className=l),r}(e);else if("function"===o)n=new e(...t);else throw Error("At least one argument required");return!function e(t,n,o){for(let r of n){if(0!==r&&!r)continue;let n=typeof r;"function"===n?r(t):"string"===n||"number"===n?t.appendChild(document.createTextNode(null!=r?r:"")):f(c(r))?l(t,r):r.length?e(t,r,o):"object"===n&&function e(t,n,o,l){let r=c(t);if("object"==typeof n)for(let t in n)e(r,t,n[t],l);else{let e=r instanceof SVGElement,t="function"==typeof o;if("style"===n&&"object"==typeof o)!function(e,t,n){let o=c(e);if("object"==typeof t)for(let e in t)i(o,e,t[e]);else i(o,t,void 0)}(r,o);else if(e&&t)r[n]=o;else if("dataset"===n)(function e(t,n,o){if("object"==typeof n)for(let o in n)e(t,o,n[o]);else null!=o?t.dataset[n]=o:delete t.dataset[n]})(r,o);else if(!e&&(n in r||t)&&"list"!==n)r[n]=o;else{if(e&&"xlink"===n){(function e(t,n,o){if("object"==typeof n)for(let o in n)e(t,o,n[o]);else null!=o?t.setAttributeNS(u,n,o):t.removeAttributeNS(u,n,o)})(r,o);return}l&&"class"===n&&(o=r.className+" "+o),null==o?r.removeAttribute(n):r.setAttribute(n,o)}}}(t,r,null,o)}}(c(n),t,!0),n}d.extend=function(...e){return d.bind(this,...e)};const a=function(e){let t=[];for(let n=0;n<e;n++)t.push(n*e);return t}(6),_=d(".content",function(){let e=d(".grid-container",{style:"grid-template-columns: repeat(6, 50px)"});!function(e,t){let n=0;for(;n<36;)e.append(d(".grid-element")),n++}(e,0);let t=d("input.add-file-input",{type:"file",accept:"audio/*",onchange(){let n=t.files[0];if(n){let t=function(e){let t=d("audio.audio-element",{controls:!0});t.src=URL.createObjectURL(e),t.load();let n=new AudioContext,o=n.createMediaElementSource(t),l=n.createAnalyser();o.connect(l),l.connect(n.destination),l.fftSize=256;let r=l.frequencyBinCount,i=new Uint8Array(r);return t.addEventListener("play",function e(){t.paused||requestAnimationFrame(e),l.getByteFrequencyData(i);let n=document.querySelectorAll(".grid-element");n.forEach(e=>e.style.backgroundColor="transparent");for(let e=0;e<6;e++){let t=Math.ceil(i[e]/42.666666666666664);a.map((e,t,n)=>n[n.length-1-t]).slice(0,t).forEach(t=>{n[t+e].style.backgroundColor="red"})}}),t}(n);e.after(t)}}});return[e,t]}());!function(t,...n){let o=c(t),r=function e(t,n,o){let r=o,i=Array(n.length);for(let e=0;e<n.length;e++)i[e]=n[e]&&c(n[e]);for(let o=0;o<n.length;o++){let u=n[o];if(!u)continue;let c=i[o];if(c===r){r=r.nextSibling;continue}if(f(c)){let e=r&&r.nextSibling,n=null!=u.__redom_index&&e===i[o+1];l(t,u,r,n),n&&(r=e);continue}null!=u.length&&(r=e(t,u,r))}return r}(t,n,o.firstChild);for(;r;){let n=r.nextSibling;!function(t,n){let o=c(t),l=c(n);n===l&&l.__redom_view&&(n=l.__redom_view),l.parentNode&&(e(n,l,o),o.removeChild(l))}(t,r),r=n}}(document.querySelector(".container"),[_]);
//# sourceMappingURL=index.09c315b4.js.map
